{{define "results"}}
{{if .Error}}
<!-- Toast trigger for error -->
<div data-toast data-toast-type="error" data-toast-title="Error" data-toast-message="{{.Error}}" style="display:none;">
</div>
<div class="empty-results">
    <div class="empty-results-icon">!</div>
    <p>Query failed. Check the error message above.</p>
</div>
{{else if .Success}}
{{if not .Rows}}
<!-- Toast trigger for success (non-SELECT queries) -->
<div data-toast data-toast-type="success" data-toast-title="Success" data-toast-message="{{.Message}}"
    style="display:none;"></div>
<div class="empty-results">
    <div class="empty-results-icon">&#10003;</div>
    <p>{{.Message}}</p>
</div>
{{end}}
{{end}}

{{if .Rows}}
<div class="results-table">
    <p class="row-count">{{len .Rows}} row(s) returned</p>
    <table>
        <thead>
            <tr>
                {{range .Columns}}
                <th>
                    {{.Name}}
                    {{if .IsPrimaryKey}}<span class="pk-indicator">PK</span>{{end}}
                </th>
                {{end}}
            </tr>
        </thead>
        <tbody>
            {{range $row := .Rows}}
            <tr>
                {{range $.Columns}}
                <td>{{index $row .Name}}</td>
                {{end}}
            </tr>
            {{end}}
        </tbody>
    </table>
</div>
{{else if not .Error}}
{{if not .Success}}
<p class="hint">Execute a query to see results here</p>
{{end}}
{{end}}
{{end}}